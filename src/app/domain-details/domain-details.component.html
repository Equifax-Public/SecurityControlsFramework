<app-header-navigation></app-header-navigation>
<div id="content">
    <button id="back-button" mat-flat-button color="primary" (click)="back()">Back to Domains</button>
    <h2 id="domain-title">{{domainTitle}}</h2>
    <div class="download-btn-wrapper">
      <div class="downloadSection">
        <p class="action-text" (click)="downloadCSV()">Download CSV</p>
        <button class="circle-button topActionBtn" (click)="downloadCSV()"><img class="action-icon" src="assets/chevron_right_blue.svg"></button>
      </div>
    </div>
    <mat-tab-group dynamicHeight [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)">
      <mat-tab label="Control view">
        <div class="box mat-elevation-z4 table-wrapper">
          <table mat-table [dataSource]="dataSourceControl">
             <!-- Name Column -->
             <ng-container matColumnDef="Domain_Name">
                <th mat-header-cell *matHeaderCellDef style="width: 10% !important;" class="small-screen-no-show"> Domain Name </th>
                <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element['Domain Name']}} </td>
            </ng-container>

              <!-- Domain Column -->
            <ng-container matColumnDef="Domain">
                <th mat-header-cell *matHeaderCellDef style="width: 5% !important;" class="small-screen-no-show"> Domain </th>
                <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element.Domain}} </td>
            </ng-container>
          
            <!-- Control ID Column -->
            <ng-container matColumnDef="Control_ID">
              <th mat-header-cell *matHeaderCellDef style="width: 7% !important; min-width: 100px;"> Control ID </th>
              <td mat-cell *matCellDef="let element"> {{element.Control_ID}} </td>
            </ng-container>
          
            <!-- Control Description Column -->
            <ng-container matColumnDef="Control_Desc">
              <th mat-header-cell *matHeaderCellDef> Control Description </th>
              <td mat-cell *matCellDef="let element"> {{element.Control_Desc}} </td>
            </ng-container>

            <!-- Control Scope Column -->
            <ng-container matColumnDef="Control_Scope">
                <th mat-header-cell *matHeaderCellDef style="width: 10% !important;" class="small-screen-no-show"> Control Scope </th>
                <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element.Control_Scope}} </td>
            </ng-container>
          
            <!-- Control Owner Column -->
            <ng-container matColumnDef="Control_Owner">
              <th mat-header-cell *matHeaderCellDef style="width: 7% !important; padding-right: 10px;" class="small-screen-no-show"> Control Owner </th>
              <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element.Control_Owner}} </td>
            </ng-container>

            <!-- Control Operator Column -->
            <ng-container matColumnDef="Control_Operator">
                <th mat-header-cell *matHeaderCellDef style="width: 7%; padding-right:15px !important;" class="small-screen-no-show"> Operator </th>
                <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element.Control_Operator}} </td>
            </ng-container>

              <!-- Control Type Column -->
            <ng-container matColumnDef="Control_Type">
                <th mat-header-cell *matHeaderCellDef style="width:5% !important;" class="small-screen-no-show"> Type </th>
                <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element.Control_Type}} </td>
            </ng-container>

              <!-- Control Type Column -->
            <ng-container matColumnDef="Control_Type2">
                <th mat-header-cell *matHeaderCellDef class="small-screen-no-show"> Control Type2 </th>
                <td mat-cell *matCellDef="let element" class="small-screen-no-show"> {{element.Control_Type2}} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedControlColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedControlColumns;"></tr>
          </table>
        </div>
      </mat-tab>

      <mat-tab label="TR view">
        <div class="box mat-elevation-z4 table-wrapper">
          <table mat-table [dataSource]="dataSourceTR">
            <!-- Name Column -->
            <ng-container matColumnDef="Domain_Name">
                <th class="small-screen-no-show" mat-header-cell *matHeaderCellDef style="width: 112px !important;"> Domain Name </th>
                <td class="small-screen-no-show" mat-cell *matCellDef="let element"> {{element['Domain Name']}} </td>
            </ng-container>

              <!-- Domain Column -->
            <ng-container matColumnDef="Domain">
                <th class="small-screen-no-show" mat-header-cell *matHeaderCellDef style="width: 75px !important;"> Domain </th>
                <td class="small-screen-no-show" mat-cell *matCellDef="let element"> {{element.Domain}} </td>
            </ng-container>
          
            <!-- TR ID Column -->
            <ng-container matColumnDef="TR_ID">
              <th mat-header-cell *matHeaderCellDef style="width: 100px !important;"> TR ID </th>
              <td mat-cell *matCellDef="let element"> {{element.TR_ID}} </td>
            </ng-container>
          
            <!-- Sub TR Order Column -->
            <ng-container matColumnDef="Sub_TR_Order">
              <th mat-header-cell *matHeaderCellDef class="small-screen-no-show" style="width:100px !important;"> Sub TR Order </th>
              <td mat-cell class="small-screen-no-show" *matCellDef="let element"> {{element.Sub_TR_Order}} </td>
            </ng-container>

            <!-- Sub TR Indent Column -->
            <ng-container matColumnDef="Sub_TR_Indent">
                <th class="small-screen-no-show" mat-header-cell *matHeaderCellDef style="width:100px !important;"> Sub TR Indent </th>
                <td class="small-screen-no-show" mat-cell *matCellDef="let element"> {{element.Sub_TR_Indent}} </td>
            </ng-container>
          
            <!-- Sub TR ID Column -->
            <ng-container matColumnDef="Sub_TR_ID">
              <th class="small-screen-no-show" mat-header-cell *matHeaderCellDef style="width: 150px !important;"> Sub TR ID </th>
              <td class="small-screen-no-show" mat-cell *matCellDef="let element"> {{element.Sub_TR_ID}} </td>
            </ng-container>

            <!-- TR Description Column -->
            <ng-container matColumnDef="TR_Description">
                <th mat-header-cell *matHeaderCellDef> TR Description </th>
                <td mat-cell *matCellDef="let element"> {{element.TR_Description}} </td>
            </ng-container>

              <!-- TR Scope Column -->
            <ng-container matColumnDef="TR_Scope">
                <th class="small-screen-no-show" mat-header-cell *matHeaderCellDef> TR Scope </th>
                <td class="small-screen-no-show" mat-cell *matCellDef="let element"> {{element.TR_Scope}} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedTRColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedTRColumns;"></tr>
          </table>
        </div>
      </mat-tab>

      <mat-tab label="Mapping view">
        <div class="box mat-elevation-z4 table-wrapper">
          <table mat-table [dataSource]="dataSourceMapping">
            <!-- Control ID Column -->
            <ng-container matColumnDef="Control_ID">
                <th mat-header-cell *matHeaderCellDef style="width: 100px !important;">Control ID</th>
                <td mat-cell *matCellDef="let element"> {{element.Control_ID}} </td>
            </ng-container>

            <!-- Control Statement Column -->
            <ng-container matColumnDef="Control_Statement">
                <th mat-header-cell *matHeaderCellDef style="padding-right:15px !important;"> Control Statement </th>
                <td mat-cell *matCellDef="let element"> {{element.Control_Statement}} </td>
            </ng-container>
          
            <!-- TR ID Column -->
            <ng-container matColumnDef="TR_ID">
              <th mat-header-cell *matHeaderCellDef style="width: 150px !important;"> TR ID </th>
              <td mat-cell *matCellDef="let element"> {{element.TR_ID}} </td>
            </ng-container>
          
            <!-- Technical Requirement Column -->
            <ng-container matColumnDef="Technical_Requirement">
              <th mat-header-cell *matHeaderCellDef> Technical Requirement </th>
              <td mat-cell *matCellDef="let element"> {{element.Technical_Requirement}} </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedMappingColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedMappingColumns;"></tr>
          </table>
        </div>
      </mat-tab>
    </mat-tab-group>
</div>

<app-footer></app-footer>